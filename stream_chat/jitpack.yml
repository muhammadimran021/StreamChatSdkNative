jdk:
  - openjdk17

before_install:
  - echo "JitPack build starting for StreamChatSdkNative"

install:
  - echo "Installing dependencies"

before_script:
  - echo "Setting up Flutter"
  - export PATH="$PATH:/opt/flutter/bin"
  - flutter --version

script:
  - echo "Building Flutter module"
  - flutter pub get
  - flutter build aar --output-dir=build/host/outputs/repo
  - cd .android
  - ./gradlew clean assembleRelease publishToMavenLocal

after_success:
  - echo "Build completed successfully" 